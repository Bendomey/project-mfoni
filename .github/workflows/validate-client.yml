name: Lint and types Check

on:
    workflow_call:

jobs:
    lint:
        name: ⬣ ESLint
        runs-on: ubuntu-latest
        steps:
          - name: ⬇️ Checkout repo
            uses: actions/checkout@v4
    
          - name: ⎔ Setup node
            uses: actions/setup-node@v4
            with:
              node-version: 18
    
          - name: 📥 Download deps
            run: npm install -g yarn@1.22.19
    
          - name: 🔬 Lint
            run: yarn lint
            working-directory: apps/client

    typecheck:
        name: ʦ TypeScript
        runs-on: ubuntu-latest
        steps:
          - name: ⬇️ Checkout repo
            uses: actions/checkout@v4
    
          - name: ⎔ Setup node
            uses: actions/setup-node@v4
            with:
                node-version: 18
    
          - name: 📥 Download deps
            run: npm install -g yarn@1.22.19
    
          - name: 🔎 Type check
            run: yarn types:check
            working-directory: apps/client